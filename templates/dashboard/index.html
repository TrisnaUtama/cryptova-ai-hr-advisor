{% extends "base_sidebar.html" %}
{% load static %}
{% block title %}
  Admin Dashboard
{% endblock title %}
<!-- Dashboard Overview -->
{% block sidebar_content %}
  <style>
  .tab-btn.active {
    background-color: #fff !important;
    box-shadow: 0 2px 8px 0 rgba(37, 99, 235, 0.08);
    font-weight: 600;
  }

  .tab-btn:hover:not(.active) {
    background-color: #e5e7eb;
    cursor: pointer;
  }

  .tab-content {
    display: none;
  }

  .tab-content.active {
    display: block;
  }
  </style>
  <div class="dashboard-overview">
    <h1 class="text-2xl font-bold text-gray-900 mb-4">Admin Dashboard</h1>
    <p class="text-gray-500 mb-2">System Overview</p>
    <div class="flex space-x-2 mb-4">
      <button class="tab-btn px-4 py-2 rounded-lg text-sm font-medium bg-gray-100 text-gray-700 active"
              data-tab="overview">Overview</button>
      <button class="tab-btn px-4 py-2 rounded-lg text-sm font-medium bg-gray-100 text-gray-700"
              data-tab="scoring">Scoring Weights</button>
      <button class="tab-btn px-4 py-2 rounded-lg text-sm font-medium bg-gray-100 text-gray-700"
              data-tab="candidates">
        Top
        Candidates
      </button>
    </div>
    <!-- Overview Tab -->
    {% include "./overview_tab.html" %}
    <!-- Scoring Weights Tab -->
    {% include "./scoring_tab.html" %}
    <!-- Top Candidates Tab -->
    {% include "./top_candidates_tab.html" %}
  </div>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    window.uploaded_cvs = {{uploaded_cvs}};
    window.processed_cvs = {{ processed_cvs|safe }};
    window.avg_scores = {{ avg_scores|safe }};
    window.uploaded_cvs_per_day = {{ uploaded_cvs_per_day|safe }};
    window.parsed_cvs_per_day = {{ parsed_cvs_per_day|safe }};
    window.score_distribution = {{ score_distribution|safe }};
  </script>
  <script src="{% static 'js/dashboard.js' %}"></script>
{% endblock sidebar_content %}
